<div class="mat-border-divider rounded border border-solid p-4 mb-4">
  <div class="flex flex-row items-center mb-4">
    <div class="flex-1">
      <div class="mat-h3 m-0" i18n="@@stream-times">Stream Times</div>
      <div class="mat-text-caption mat-secondary-text">
        {{ getTotal(result().data) | formatDuration }} in 45 weeks
      </div>
    </div>

    <vts-menu
      [value]="precision"
      (change)="precision = $event"
      [options]="precisionOptions"
    />
  </div>

  @switch (precision) {
    @case ("day") {
      <vts-stream-time-calendar [times]="result().data" />
    }
    @case ("hour") {
      <vts-stream-time-bar-chart
        [loading]="result().isLoading"
        [times]="result().data || []"
        groupBy="hour"
      />
    }
    @case ("month") {
      <vts-stream-time-bar-chart
        [loading]="result().isLoading"
        [times]="result().data || []"
        groupBy="month"
      />
    }
    @case ("weekday") {
      <vts-stream-time-bar-chart
        [loading]="result().isLoading"
        [times]="result().data || []"
        groupBy="weekday"
      />
    }
  }
</div>
